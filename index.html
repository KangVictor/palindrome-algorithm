<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>palindrome web app</title>
	<style>
		.column {
			display: flex;
			flex-direction: column;
		}

		.align-center {
			align-items: center;
		}

		.align-left {
			align-items: end;
		}
	</style>
</head>
<body>
	<div class="column align-center">
		<form id="submit-words" action="/words" method="POST">
			<div class="column align-left">
				<label for="words-input">Enter Palindrome</label>
				<input type="text" placeholder="words go here" name="words-input">
				<input type="submit" name="submit">
				<textarea id="MyTextArea" rows="10" cols="50" placeholder="example: dad is a palindrome"></textarea>
			</div>
		</form>
	</div>

	<script src="./palindrome_algorithm.js"> </script>
	<script>
		const palindromeModel = [];

		function palindromeSuccess(word) {
			// add word to palindromeModel
			// write palindromeModel to textarea
			palindromeModel[palindromeModel.length] = word
			myText.innerHTML = palindromeModel;
		}

		function palindromeFailure(word) {
			// warn user
			alert(`${word} is not a palindrome`);
		}
		// get a reference to the form
		const form = document.querySelector('#submit-words');
		// get a reference to the textarea
		const myText = document.querySelector('#MyTextArea');
		// listen for submit event
		form.addEventListener('submit', (event) => {
			// prevent the default behavior
			event.preventDefault();

			// get the word from the input
			const word = form.querySelector("[name=words-input]").value;

			// pass the word to our palindrome function
			const isPalidrome = checkPalindrome(word);

			if (isPalidrome) {
				// update UI
				palindromeSuccess(word);
			} else {
				// warn user
				palindromeFailure(word);
				console.warn(`${word} is not a palindrome`);
			}
		});
	</script>
</body>
</html>